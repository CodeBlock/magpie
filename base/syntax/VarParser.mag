// Keyword parser for "var" expressions.
class VarParser
    def parse(parser MagpieParser, token Token -> Expression)
        %var%("pattern", parser parsePattern())
        parser consume("=")
        %var%("value", parser parseEndBlock())

        VariableExpression new(
            position: token position,
            pattern: pattern, value: value)
    end
end

MagpieParser registerPrefixParser("var", VarParser new())
